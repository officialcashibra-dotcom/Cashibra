<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Budget Planner — Cashibra</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body{
    margin:0;background:#0d0f1a;color:#fff;
    font-family: 'Arial';
}
header{
    background:#1a2339;padding:20px;text-align:center;
    font-size:26px;font-weight:800;color:#00f2ff;
    text-shadow:0 0 8px #00eaff;
}
.wrap{max-width:900px;margin:20px auto;padding:20px}
.card{
    background:#131a2e;border:2px solid #24345a;padding:20px;
    border-radius:12px;box-shadow:0 0 12px #0e1629;
    margin-bottom:20px;
}
h2{color:#42e8ff;text-shadow:0 0 4px #23b6ff;margin-top:0}
#moneyInput{
    width:100%;padding:12px;border-radius:10px;border:none;
    background:#0c1222;color:#0ff;font-size:18px;
}
.zone{
    background:#1a2339;border:2px dashed #35507a;
    padding:12px;border-radius:10px;min-height:120px;margin-bottom:14px;
}
.item{
    background:#28375d;padding:10px 14px;margin:6px 0;
    border-radius:8px;cursor:grab;font-weight:700;
    border:1px solid #3e70c4;
}
.output{
    background:#06101a;padding:12px;margin-top:10px;
    border-radius:10px;border:1px solid #0ff;color:#0ff;
    font-weight:700;display:none;
}
.xpBox{
    background:#0f1c2d;padding:14px;margin-top:14px;border-radius:10px;
    border:2px solid #00ffa6;color:#00ffbf;font-weight:800;
    text-align:center;font-size:20px;display:none;
}
.coin{
    width:20px;height:20px;border-radius:50%;background:gold;
    position:absolute;animation:fly 1s linear forwards;
}
@keyframes fly{
    from{opacity:1;transform:translateY(0) scale(1);}
    to{opacity:0;transform:translateY(-80px) scale(0.2);}
}
</style>
</head>
<body>

<header>Cashibra — Pixel Budget Planner</header>
<div class="wrap">

<div class="card">
<h2>Enter Your Monthly Money</h2>
<input id="moneyInput" type="number" placeholder="Enter amount (₹)">
</div>

<div class="card">
<h2>Drag each item into a category</h2>

<div id="items">
  <div class="item" draggable="true">Snacks (₹200)</div>
  <div class="item" draggable="true">School Supplies (₹300)</div>
  <div class="item" draggable="true">Games / Roblox (₹400)</div>
  <div class="item" draggable="true">Travel / Auto (₹150)</div>
  <div class="item" draggable="true">Emergency Savings (₹100)</div>
</div>

<h2>Your Budget Zones</h2>
<p>Drop items into **Needs**, **Wants**, or **Savings**</p>

<h3>Needs</h3>
<div id="needs" class="zone"></div>

<h3>Wants</h3>
<div id="wants" class="zone"></div>

<h3>Savings</h3>
<div id="savings" class="zone"></div>

<button onclick="calculateBudget()" style="
background:#00eaff;border:none;padding:12px 20px;
border-radius:10px;color:#00101a;font-weight:800;
margin-top:12px;font-size:18px;cursor:pointer;">Calculate My Budget</button>

<div class="output" id="result"></div>
<div class="xpBox" id="xpReward">+50 XP Earned!</div>

</div>

</div>

<script>
let dragged=null;

// DRAG START
document.querySelectorAll(".item").forEach(el=>{
  el.addEventListener("dragstart",()=>{
    dragged=el;
  });
});

// ALLOW DROP
document.querySelectorAll(".zone").forEach(zone=>{
  zone.addEventListener("dragover",(e)=>e.preventDefault());
  zone.addEventListener("drop",()=>{
    zone.appendChild(dragged);
    makeCoin(zone);
  });
});

// FUN COIN ANIMATION
function makeCoin(zone){
  let coin=document.createElement("div");
  coin.className="coin";
  coin.style.left=Math.random()*100 + "px";
  zone.appendChild(coin);
  setTimeout(()=>coin.remove(),900);
}

// CALCULATE
function calculateBudget(){
  let income = Number(document.getElementById("moneyInput").value)||0;
  if(income<=0){alert("Enter a valid amount");return}

  let sumNeeds = sumZone("needs");
  let sumWants = sumZone("wants");
  let sumSav = sumZone("savings");

  let r=document.getElementById("result");
  r.style.display="block";
  r.innerHTML=
    `Needs: ₹${sumNeeds}<br>
     Wants: ₹${sumWants}<br>
     Savings: ₹${sumSav}<br><br>
     <b>${(sumSav/income*100).toFixed(1)}% Saved ✔️</b>`;

  document.getElementById("xpReward").style.display="block";
}

function sumZone(id){
  let total=0;
  document.querySelectorAll(`#${id} .item`).forEach(el=>{
    let val=Number(el.innerText.match(/\d+/));
    total+=val;
  });
  return total;
}
</script>

</body>
</html>
